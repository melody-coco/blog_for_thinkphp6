<center>Vim编辑器简单操作</center>
#### 1.	安装Vim

直接使用命令`yum install vim`，就行了。如果还是不行的话，建议`ping`以下百度，如果没`ping`通的话，说明网络连接有问题，自己百度一下



#### 2.	Vim的三种模式

下图为`Vim`的三种工作模式的示意图：

![Vim的三种工作模式](http://c.biancheng.net/uploads/allimg/181008/2-1Q00Q41T01J.jpg)



具体的就不说了，懂得都懂，忘了的话[点击s](http://c.biancheng.net/view/804.html)





#### 3.	Vim的基本操作



##### 打开文件

打开文件的话，直接使用`vim test.txt`这种。`vim`后面跟路径就好了

```shell
[root@localhost ~]# vim /root/test1/qq.txt
```



> 以下是一些特殊的打开文件的命令

| Vi 使用的选项          | 说 明                                             |
| ---------------------- | ------------------------------------------------- |
| vim filename           | 打开或新建一个文件，并将光标置于第一行的首部      |
| vim -r filename        | 恢复上次 vim 打开时崩溃的文件                     |
| vim -R filename        | 把指定的文件以只读方式放入 Vim 编辑器中           |
| vim + filename         | 打开文件，并将光标置于最后一行的首部              |
| vi +n filename         | 打开文件，并将光标置于第 n 行的首部               |
| vi +/pattern filename  | 打幵文件，并将光标置于第一个与 pattern 匹配的位置 |
| vi -c command filename | 在对文件进行编辑前，先执行指定的命令              |



#### 4.	编辑



##### 插入文本

从命令模式进入输入模式进行编辑，可以按下`I`,`i`,`a`,`A`,`o`,`O`等键位来完成

如下图所示：

| 快捷键    | 功能描述                                                     |
| --------- | ------------------------------------------------------------ |
| i         | 在当前光标所在位置插入随后输入的文本，光标后的文本相应向右移动 |
| I(大i)    | 在光标所在行的行首插入随后输入的文本，行首是该行的第一个非空白字符，相当于光标移动到行首执行 i 命令 |
| o         | 在光标所在行的下面插入新的一行。光标停在空行首，等待输入文本 |
| O（大写） | 在光标所在行的上面插入新的一行。光标停在空行的行首，等待输入文本 |
| a         | 在当前光标所在位置之后插入随后输入的文本                     |
| A         | 在光标所在行的行尾插入随后输入的文本，相当于光标移动到行尾再执行 a 命令 |

> 上图所示的，都是在命令模式进入编辑模式的快捷键



##### 查找文本



| 快捷键 | 功能描述                         |
| ------ | -------------------------------- |
| /abc   | 从光标所在位置向前查找字符串 abc |
| /^abc  | 查找以 abc 为行首的行            |
| /abc$  | 查找以 abc 为行尾的行            |
| ?abc   | 从光标所在为主向后查找字符串 abc |
| n      | 向同一方向重复上次的查找指令     |
| N      | 向相反方向重复上次的查找指定     |

> 这里的n,N都是搜索了过后，命令模式快捷键，可以快速的继续查找

注意：查找过程是严格区分大小写的，如果想忽略大小写则输入命令`:set ic`

​					调整回来的话，则输入`:set noic`

注意： 如果字符串中出现的特殊符号，则需要`\`进行转义，

​					例如：查找`10$`，需要输入`/10\$`





##### 替换文本



| 快捷键           |                           功能描述                           |
| ---------------- | :----------------------------------------------------------: |
| r                | 替换当前光标位置的字符，点一下r再点一下其他键，就可以换为其他键了 |
| R                |  从当前光标所在位置开始替换字符，输入文本会替换掉等长的字符  |
| :s/abc/123/g     |              替换当前光标所在行的abc，替换为123              |
| :1,7 s/abc/123/g |                  将文中1到7行中abc替换为123                  |
| :%s/abc/123/g    |                      替换全文的abc为123                      |





##### 删除文本

|  快捷键   | 功能描述                               |
| :-------: | -------------------------------------- |
|     x     | 删除当前光标所在位置的单个文本         |
|    dd     | 删除当前光标所在行                     |
|    dG     | 删除当前光标所在行一直到文件末尾的内容 |
| G（无效） | 删除当前光标位置到末尾的内容           |
|  :1,6 d   | 删除第1行到第6行的内容                 |
|    ndd    | 删除当前光标所在行后n行文本            |





##### 复制和粘贴文本



| 快捷键  | 功能描述                   |
| ------- | -------------------------- |
| p       | 将剪切板的内容粘贴到光标后 |
| P(大写) | 将剪切板的内容粘贴到光标前 |
| y       | 复制选中的文本             |
| yy      | 复制当前光标所在行         |
| yw      | 将光标位置的单词复制到文本 |





##### 其他命令

+ `J`快捷键，删除光标位置行和下一行之间的换行符
+ `u`快捷键，相当于编辑器中的`ctrl y`命令，回退



#### 5.	移动光标命令汇总

> 以下内容中，所有的快捷键都是再命令模式（默认状态）下直接使用



##### Vim快捷方向键

| 快捷键 | 功能描述       |
| ------ | -------------- |
| h      | 光标向左移一位 |
| j      | 光标向下移一位 |
| k      | 光标向上移一位 |
| l      | 光标向右移一位 |





##### Vim行内移动

| 快捷键 | 功能描述               |
| ------ | ---------------------- |
| ^      | 移动光标到当前行的行首 |
| $      | 移动光标到当前行的行尾 |



##### Vim移动光标到指定字符

| 快捷键 | 功能描述                      |
| ------ | ----------------------------- |
| fx     | 光标移动到行中，下一个x的位置 |
| Fx     | 光标移动到行中，下一个x的位置 |



##### Vim光标到行尾行首

| 快捷键 | 功能描述                    |
| ------ | --------------------------- |
| gg     | 光标移动到文件开头          |
| G      | 光标移动到文件末尾          |
| nG     | 光标移动到第n行,（n为数字） |



##### Vim光标移动到括号的匹配位置



> 例如有些文件里面写的是函数，类什么的。里面就会有不少的`[]`，`{}`。
>
>  此时就可以使用`%`快捷键

将光标移动到`[`，或`{`。位置后使用`%`命令就可以直接的定位到另一个匹配的括号处





#### 6.	VIm批量注释和自定义注释

Vim之所以会注释，是因为有可能要使用`Vim`来写脚本，`Shell`脚本，其实就是`python`脚本这样

> 其实简单说：
>
> 批量注释就是巧妙的使用替换命令。
>
> 自定义注释就是使用map来自定义按键



##### 批量注释

> 批量注释其实就是使用替换命令



第一到第十行行首全部加上`#`来注释

```
:1,10s/^/#/g
```

> 表示在第一到第十行行首加上`#`来注释。`^`表示行首，`#`表示加上的是`#`。`g`表示执行替换时不询问，反之想要询问则换成`c`。



取消批量注释

```
:1,10s/^#//g
```

> 意思大概就是，把1到10行，行首所有的#换成空。也就是删除



当然，如果使用的语言不一样的话，注释也不一样。下例中使用的就是`//`注释

```
:1,10s/^/\/\//g			//使用“\”，来转义。表示1到10行前面全部加上//
```







##### 自定义注释

> 自定义注释的话，就是自定义快捷键。简化操作

基本格式：

```shell
:map 快捷键 执行命令
```



实例1：

自定义快捷键“ctrl + p”，来为当前行，行首添加`#`

```
:map ^p I#<Esc>
```

> “map”表示为自定义快捷键，“^p”表示为自定义快捷键"ctrl + p"。
>
> （ps.必须同时按"Ctrl + v + p"才能有效，或者先按"ctrl + v",再按"ctrl + p"。直接									输入"^p"，是无效的）
>
> 
>
> “I#<Esc>”则为快捷键触发的操作："I"为在光标的行首插入，"#"为插入的字符，"<Esc>"表示退出命令模式。（ps.此处的<Esc>需要一个一个写出来）





实例2：

延申上面的语法。我们可以由此推出注释的快捷键：

```
:map ^b ^x
```

> 定义快捷键“ctrl + b”，"^"表示光标移到行首，"x"表示删除字符



同样的：

```
:map ^n ^rc		//意为替换行首第一个字符为c
```





#### 7.	Vim配置文件(.vimrc)

> vim启动时，会根据配置文件(`.vimrc`)。来设置`Vim`，因此可以通过此文件来自定义自己想要的配置

Vim配置分为系统配置文件和用户配置文件：

+ 系统配置文件位于`Vim`大额安装目录（默认路径为`etc/.vimrc`）;
+ 用于配置位于用户主目录`~/.vimrc`，即通过`vim ~/.vimrc`可以对用户配置文件进行修改，一般用户配置文件需要自己手动创建

> `Vim`用户配置文件的优先级比系统配置文件的优先级高，

<center>以下为常用的环境参数</center>
| 设置参数                                                     | 功能描述                                                     |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| set fileencodings=utf-8,ucs-bom,gb18030,gbk,gb2312,cp936 set termencoding=utf-8 set encoding=utf-8 | 设置编码格式，encoding 选项用于缓存的文本、寄存器、Vim 脚本文件等；fileencoding 选项是 Vim 写入文件时采用的编码类型；termencoding 选项表示输出到终端时采用的编码类型。 |
| set nu set number                                            | nu 是 number 的缩写，所以上面两个配置命令是完全等效的，二选一即可。取消行号可使用 set nonu。 |
| set cursorline                                               | 突出显示当前行。                                             |
| set mouse=a set selection=exclusive set selectmode=mouse,key | Vim 编辑器里默认是不启用鼠标的，通过此设置即可启动鼠标。     |
| set autoindent                                               | 设置自动缩进，即每行的缩进同上一节相同。                     |
| set tabstop=4                                                | 设置 Tab 键宽度为 4 个空格。                                 |

> 注意：用户主目录下的`.vimrc`是隐藏的

例如：

​		先使用`vim ~/.vimrc`，进入用户配置文件。

​		在第一行写入`set nu`。（ps.这样了后，以后的vim都会显示行号）

[详情](http://c.biancheng.net/view/3024.html)

